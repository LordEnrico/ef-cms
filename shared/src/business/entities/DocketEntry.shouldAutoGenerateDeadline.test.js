const { AUTO_GENERATED_DEADLINE_DOCUMENT_TYPES } = require('./EntityConstants');
const { MOCK_DOCUMENTS } = require('../../test/mockDocuments');
const { shouldAutoGenerateDeadline } = require('./DocketEntry');

describe('shouldAutoGenerateDeadline', () => {
  AUTO_GENERATED_DEADLINE_DOCUMENT_TYPES.forEach(item => {
    it('should return true when the docket entry is one of AUTO_GENERATED_DEADLINE_DOCUMENT_TYPES', () => {
      const mockDocketEntry = {
        ...MOCK_DOCUMENTS[0],
        eventCode: item.eventCode,
      };
      const result = shouldAutoGenerateDeadline(mockDocketEntry);

      expect(result).toBe(true);
    });
  });

  it('should return false when the docket entry is not one of AUTO_GENERATED_DEADLINE_DOCUMENT_TYPES', () => {
    const mockDocketEntry = {
      ...MOCK_DOCUMENTS[0],
      eventCode: 'O',
    };
    const result = shouldAutoGenerateDeadline(mockDocketEntry);

    expect(result).toBe(false);
  });
});
